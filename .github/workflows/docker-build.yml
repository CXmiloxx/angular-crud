name: Deploy Angular App to Vercel

env:
    VERCEL_TOKEN: ${{ secrets.VERCEL_TOKEN }}
    VERCEL_ORG_ID: ${{ secrets.VERCEL_ORG_ID }}
    VERCEL_PROJECT_ID: ${{ secrets.VERCEL_PROJECT_ID }}
on:
    push:
        branches:
          - master

jobs:
    Deploy-Production:
      runs-on: ubuntu-latest
      steps:

        - uses: actions/checkout@v3

        - name: Install Vercel Cli
          run: npm install --global vercel


        - name: Pull Vercel
          run: vercel pull --yes --enviroment=production --token=${{secrets.VERCEL_TOKEN}}

        - name: Build Proyect 
          run: vercel build --prod --token=${{secrets.VERCEL_TOKEN}}

        - name: Deploy  
          run: vercel deploy --prebuilt --prod --token=${{secrets.VERCEL_TOKEN}}


